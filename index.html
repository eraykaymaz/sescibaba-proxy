<!DOCTYPE html><html lang="tr"><head>
<meta charset="UTF-8">
<title>Hit Generator</title>
<style>
body{background:#000;color:#fff;font-family:Arial;padding:20px;}
h1{text-align:center;color:#f04;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th,td{border:1px solid #333;padding:6px;font-size:14px;}
input{width:100%;padding:5px;background:#111;border:1px solid #444;color:#fff;}
</style>
</head><body>

<h1>Hit Generator</h1>
<p><b>Proxy:</b> https://test.eray-kaymaz.workers.dev/?url=</p>

<table>
<tr>
<th>#</th>
<th>Kategori</th>
<th>Link</th>
<th>Ad</th>
<th>Resim</th>
<th>Fiyat</th>
<th>Stok</th>
</tr>
<tbody id="t"></tbody>
</table>

<script>
const p="https://test.eray-kaymaz.workers.dev/?url=",
t=document.getElementById("t");

// --- 5 satır oluştur ---
for(let i=1;i<=5;i++)
 t.innerHTML+=`
<tr>
<td>${i}</td>
<td><input id=c${i} placeholder="Kategori"></td>
<td><input id=l${i}></td>
<td><input id=n${i} readonly></td>
<td><input id=i${i} readonly></td>
<td><input id=f${i} readonly></td>
<td><input id=s${i} readonly></td>
</tr>`;

// --- ürün çekme ---
document.addEventListener("input",async e=>{
 if(!e.target.id.startsWith("l"))return;
 let r=e.target.id.slice(1),u=document.getElementById("l"+r).value;
 if(!u.startsWith("http"))return;

 ["n","i","f","s"].forEach(x=>document.getElementById(x+r).value="...");

 try{
  let h=await (await fetch(p+encodeURIComponent(u))).text(),
  d=new DOMParser().parseFromString(h,"text/html");

  // AD
  let ad=d.querySelector("#product-title");
  document.getElementById("n"+r).value=ad?ad.innerText.trim():"Yok";

  // RESİM
  let img=d.querySelector("img[src*='-O']");
  document.getElementById("i"+r).value=img?img.src:"Yok";

  // FİYAT
  let pr=d.querySelector(".product-price");
  document.getElementById("f"+r).value=pr?pr.innerText.trim()+" TL":"Yok";

  // STOK ALGORİTMASI → FİYAT VARSA STOK VAR
  let stok = pr ? "Var" : "Yok";
  document.getElementById("s"+r).value = stok;

  // SATIR RENGİ
  let rowEl=document.getElementById("s"+r).parentElement.parentElement;
  rowEl.style.background = pr ? "#111" : "#400";

 }catch(e){
  ["n","i","f","s"].forEach(x=>document.getElementById(x+r).value="Hata");
 }
});
</script>

</body></html>
